<!-- Content -->
<div
  layout-fill
  style="position: relative"
>
  <md-button
    class="md-fab md-primary"
    aria-label="Open network settings"
    style="position: absolute; right: 16px; top: 16px;"
    ng-click="toggleSidenav()"
  >
    <md-tooltip md-direction="left">Network Viz Settings</md-tooltip>
    <md-icon>menu</md-icon>
  </md-button>
  
  <div layout="column" layout-fill style="padding: 8px" ng-if="loading">
    <div style="height: 50px">
      Please wait during loading:
    </div>
    
    <!-- IN -->
    <div ng-if="settings.in" style="height: 50px">
      <div ng-if="!data.in.loading && !data.in.loaded" layout="row" layout-align="start center">
        <em>IN not loaded</em>
      </div>
      <div ng-if="data.in.loading" layout="row" layout-align="start center">
        <md-progress-circular
          md-diameter="30"
          md-mode="indeterminate"
          ng-if="!data.in.total"
          style="margin-right: 8px"
        ></md-progress-circular>
        <md-progress-circular
          md-diameter="30"
          md-mode="determinate"
          ng-if="data.in.total"
          value="{{100 * data.in.webentities.length / data.in.total}}"
          style="margin-right: 8px"
        ></md-progress-circular>
        IN loading - {{data.in.webentities.length}} / {{data.in.total}}
      </div>
      <div ng-if="data.in.loaded" layout="row" layout-align="start center">
        IN loaded - {{data.in.webentities.length}} web entities
      </div>
    </div>

    <!-- UNDECIDED -->
    <div ng-if="settings.undecided" style="height: 50px">
      <div ng-if="!data.undecided.loading && !data.undecided.loaded" layout="row" layout-align="start center">
        <em>UNDECIDED not loaded</em>
      </div>
      <div ng-if="data.undecided.loading" layout="row" layout-align="start center">
        <md-progress-circular
          md-diameter="30"
          md-mode="indeterminate"
          ng-if="!data.undecided.total"
          style="margin-right: 8px"
        ></md-progress-circular>
        <md-progress-circular
          md-diameter="30"
          md-mode="determinate"
          ng-if="data.undecided.total"
          value="{{100 * data.undecided.webentities.length / data.undecided.total}}"
          style="margin-right: 8px"
        ></md-progress-circular>
        UNDECIDED loading - {{data.undecided.webentities.length}} / {{data.undecided.total}}
      </div>
      <div ng-if="data.undecided.loaded" layout="row" layout-align="start center">
        UNDECIDED loaded - {{data.undecided.webentities.length}} web entities
      </div>
    </div>

    <!-- OUT -->
    <div ng-if="settings.out" style="height: 50px">
      <div ng-if="!data.out.loading && !data.out.loaded" layout="row" layout-align="start center">
        <em>OUT not loaded</em>
      </div>
      <div ng-if="data.out.loading" layout="row" layout-align="start center">
        <md-progress-circular
          md-diameter="30"
          md-mode="indeterminate"
          ng-if="!data.out.total"
          style="margin-right: 8px"
        ></md-progress-circular>
        <md-progress-circular
          md-diameter="30"
          md-mode="determinate"
          ng-if="data.out.total"
          value="{{100 * data.out.webentities.length / data.out.total}}"
          style="margin-right: 8px"
        ></md-progress-circular>
        OUT loading - {{data.out.webentities.length}} / {{data.out.total}}
      </div>
      <div ng-if="data.out.loaded" layout="row" layout-align="start center">
        OUT loaded - {{data.out.webentities.length}} web entities
      </div>
    </div>

    <!-- DISCOVERED -->
    <div ng-if="settings.discovered" style="height: 50px">
      <div ng-if="!data.discovered.loading && !data.discovered.loaded" layout="row" layout-align="start center">
        <em>DISCOVERED not loaded</em>
      </div>
      <div ng-if="data.discovered.loading" layout="row" layout-align="start center">
        <md-progress-circular
          md-diameter="30"
          md-mode="indeterminate"
          ng-if="!data.discovered.total"
          style="margin-right: 8px"
        ></md-progress-circular>
        <md-progress-circular
          md-diameter="30"
          md-mode="determinate"
          ng-if="data.discovered.total"
          value="{{100 * data.discovered.webentities.length / data.discovered.total}}"
          style="margin-right: 8px"
        ></md-progress-circular>
        DISCOVERED loading - {{data.discovered.webentities.length}} / {{data.discovered.total}}
      </div>
      <div ng-if="data.discovered.loaded" layout="row" layout-align="start center">
        DISCOVERED loaded - {{data.discovered.webentities.length}} web entities
      </div>
    </div>

    <!-- LINKS -->
    <div style="height: 50px">
      <div ng-if="!data.links.loading && !data.links.loaded" layout="row" layout-align="start center">
        <em>Links not loaded</em>
      </div>
      <div ng-if="data.links.loading" layout="row" layout-align="start center">
        <md-progress-circular
          md-diameter="30"
          md-mode="indeterminate"
          style="margin-right: 8px"
        ></md-progress-circular>
        Links loading
      </div>
      <div ng-if="data.links.loaded" layout="row" layout-align="start center">
        Links loaded - {{data.links.links.length}}
      </div>
    </div>

  </div>

  <div layout="column" layout-fill style="padding: 8px" ng-if="!loading">
    LOADED
  </div>

</div>

<!-- Side Nav -->
<md-sidenav
  class="md-sidenav-right"
  md-component-id="right"
  md-disable-backdrop
  md-whiteframe="4"
  md-is-open="true"
>

  <md-toolbar class="md-primary">
    <div class="md-toolbar-tools">
      <h2 md-truncate flex>Network Viz Settings</h2>

      <md-button
        class="md-icon-button"
        ng-click="toggleSidenav()"
      ><md-icon>close</md-icon></md-button>
    </div>
    
  </md-toolbar>

  <md-content>
    <div
      layout="column"
      md-colors="{'background': 'default-background-200'}"
      style="padding: 8px"
    >
      <p class="md-title">Filtering</p>
      <hyphe-status-box
        statuses="statuses"
        counts="counts"
        change="touchSettings()"
        vertical="true"
      ></hyphe-status-box>

      <md-input-container>
        <label>Filter DISCOVERED web entities</label>
        <md-select ng-model="limitDiscovered">
          <md-option value=""><em>No filtering</em></md-option>
          <md-option value="1+">Hide DISCOVERED with no links</md-option>
          <md-option value="2+">Display only DISCOVERED with 2+ links</md-option>
          <md-option value="3+">Display only DISCOVERED with 3+ links</md-option>
          <md-option value="4+">Display only DISCOVERED with 4+ links</md-option>
          <md-option value="5+">Display only DISCOVERED with 5+ links</md-option>
        </md-select>
      </md-input-container>

      <md-input-container>
        <label>Filter ALL web entities</label>
        <md-select ng-model="limitAll">
          <md-option value=""><em>No filtering</em></md-option>
          <md-option value="1+">Hide web entities with no links</md-option>
          <md-option value="2+">Display only web entities with 2+ links</md-option>
          <md-option value="3+">Display only web entities with 3+ links</md-option>
          <md-option value="4+">Display only web entities with 4+ links</md-option>
          <md-option value="5+">Display only web entities with 5+ links</md-option>
        </md-select>
      </md-input-container>

      <div layout="row">
        <!-- Validation -->
        <md-button
          class="md-raised md-primary"
          ng-click="applySettings()"
          ng-disabled="!settingsChanged"
        >
          APPLY CHANGES
        </md-button>
        <md-button
          ng-click="revertSettings()"
          ng-disabled="!settingsChanged"
        >
          CANCEL
        </md-button>
      </div>
    </div>
    <div
      style="padding: 8px"
      layout="column"
    >
      <p class="md-title">Key</p>
      (In progress)
    </div>
    <div
      layout="column"
      md-colors="{'background': 'default-background-200'}"
      style="padding: 8px"
    >
      <p class="md-title">Tags</p>
      (In progress)
    </div>
  </md-content>

</md-sidenav>